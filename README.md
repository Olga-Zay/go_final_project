# Файлы для итогового задания

В директории `tests` находятся тесты для проверки API, которое должно быть реализовано в веб-сервере.

Директория `web` содержит файлы фронтенда.


## Описание проекта.

Веб-сервер, который реализует функциональность простейшего планировщика задач. Планировщик хранит задачи, 
каждая из них содержит дату дедлайна и заголовок с комментарием. Задачи могут повторяться по заданному правилу: 
например, ежегодно, через какое-то количество дней, в определённые дни месяца или недели. Если отметить такую задачу как 
выполненную, она переносится на следующую дату в соответствии с правилом. Обычные задачи при выполнении будут просто удаляться.

API содержит следующие операции:
добавить задачу;
получить список задач;
удалить задачу;
получить параметры задачи;
изменить параметры задачи;
отметить задачу как выполненную.


## Список выполенных заданий со звёздочкой:

1. Реализована возможность определять извне порт при запуске сервера. Если существует переменная окружения TODO_PORT, 
сервер при старте слушает порт со значением этой переменной.
2. Реализована возможность определять путь к файлу базы данных через переменную окружения. Для этого сервер получает значение 
переменной окружения TODO_DBFILE и использовать его в качестве пути к базе данных, если это не пустая строка.
3. Реализованы все правила повторения задач.
4. Реализован поиск по ключевому слову или дате в задачах.
5. Подключен к веб-серверу механизм аутентификации. Реализован обработчик веб-сервере. Он сверяет указанный пароль с хранимым в переменной 
окружения TODO_PASSWORD. Если они совпадают, сформируется JWT-токен и возвращается его в поле token JSON-объекта. Если пароль неверный 
или произошла ошибка, возвращается JSON c текстом ошибки в поле error.


## Инструкция по запуску кода локально.

Адрес в браузере для открытия планировщика задач: http://localhost:7540/
Пример .env файла с названием .env_example есть в коде. Достаточно создать его
копию с названием .env и задать, например, следующие параметры:
TODO_PORT=7540
TODO_DBFILE=scheduler.db
TODO_PASSWORD=12345


## Инструкция по запуску тестов. 
Параметры в tests/settings.go следует использовать следующие:

var Port = 7540
var DBFile = "../scheduler.db"
var FullNextDate = true
var Search = true
var Token = `eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.e30.396KCDWMomWrMEImsF84AmFRjBEvSvnyLh3ZA_mB_Wg`
[//]: # Token сгенерирован для пароля, указанного в файле .env "12345"


## Инструкция по сборке и запуску проекта через докер.
Создать докер образ: `docker build --tag todolist:v1 .`
Запустить докер образ: `docker run -d -p 7540:7540 todolist:v1`